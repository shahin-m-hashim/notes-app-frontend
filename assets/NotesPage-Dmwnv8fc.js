import{c as f,p,q as m,j as e,a as o,g as h,r as g,h as j}from"./index-_cp4kPxp.js";import{A as N,u as b,N as v,P as y,E,g as w}from"./Pagination-CZPdVnO5.js";function C({id:s,isPinned:t}){const a=f({mutationFn:()=>p(s,t),onSuccess:()=>{m.invalidateQueries(["notes"])}});return e.jsx("button",{type:"button",onClick:a.mutate,className:"bg-[#0a0806] cursor-pointer size-8 rounded-full flex items-center justify-center",children:t?e.jsx("img",{alt:"archive",className:"p-2.5",src:"icons/unpin.svg"}):e.jsx("img",{alt:"archive",className:"p-2.5",src:"icons/pin.svg"})})}function P({id:s}){const t=o(a=>a.setEditNote);return e.jsx("button",{type:"button",onClick:()=>t(s),className:"bg-[#0a0806] cursor-pointer size-8 rounded-full flex items-center justify-center",children:e.jsx("img",{alt:"edit note",className:"p-2.5",src:"icons/pencil.svg"})})}function S({note:s}){return e.jsxs("li",{style:{backgroundColor:s.color},className:"relative p-4 flex flex-col justify-between h-[250px] border border-gray-200 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h2",{className:"text-xl font-semibold underline underline-offset-4",children:s.title}),e.jsx("p",{children:s.content})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("p",{className:"text-xs font-semibold",children:s.category}),e.jsx("p",{className:"text-sm",children:new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(P,{id:s.id})}),e.jsx("div",{className:"absolute bottom-2 right-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{id:s.id,isPinned:s.pinned}),!s.pinned&&e.jsx(N,{id:s.id,isArchived:s.archived})]})})]})}function F(){const[s]=h(),t=o(r=>r.setNotes),a=s.get("page")||"1",i=s.get("search")||"",c=s.get("category")||"ALL",{isError:n,isFetched:x,isFetching:d,data:l}=b({queryFn:()=>w(i,c,a),queryKey:["notes",i,c,a]});return g.useEffect(()=>{x&&t(l.notes,l.total)},[l]),d?e.jsx("main",{className:"flex flex-col h-scroll pt-[35vh] xs:pt-14 overflow-auto xs:pl-[140px]",children:e.jsx(j,{color:"#0967d2",ariaLabel:"loading-products",wrapperClass:"h-3/4 flex flex-col items-center justify-center flex-1"})}):n?e.jsx("main",{className:"flex flex-col h-scroll pt-[35vh] xs:pt-14 overflow-auto xs:pl-[140px]",children:e.jsx(v,{})}):e.jsx("main",{className:"flex flex-col h-scroll pt-[35vh] xs:pt-14  xs:pl-[140px]",children:l.notes.length>0?e.jsxs("div",{className:"p-4 overflow-auto flex flex-col gap-4 justify-between flex-1",children:[e.jsx("ul",{className:"grid md:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4",children:l.notes.map((r,u)=>e.jsx(S,{note:r},u))}),e.jsx(y,{total:l.total})]}):e.jsx(E,{})})}export{F as default};
